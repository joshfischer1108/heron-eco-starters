

name: "pulsar-example"

config:
  topology.workers: 1

components:

  - id: "pulsar-producer-config"
    className: "org.apache.pulsar.client.api.ConsumerConfiguration"
    configMethods:
      - name: "setAckTimeout"
        args:
          - 10
          - SECONDS

spouts:
  - id: "pulsar-spout"
    className: "org.apache.heron.eco.starters.PulsarSpout"
    properties:
      - name: "consumerConfiguration"
        ref: "pulsar-producer-config"
      - name: "pulsarBrokerRootUrl"
        value: "pulsar://localhost:6650"
      - name: "pulsarTopic"
        value: "persistent://sample/standalone/ns1/my-topic"
      - name: "pulsarSubscription"
        value: "my-subscription"


bolts:
  - id: "print-bolt"
    className: "org.apache.heron.eco.starters.SystemOutBolt"
    parallelism: 1

streams:
  - from: "pulsar-spout"
    to: "print-bolt"
    grouping:
      type: SHUFFLE
      args: ["number"]



